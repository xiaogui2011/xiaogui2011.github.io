---
layout: post
title: zotero的数据备份
slug: zotero的数据备份
author: ymkNK
date: 2025-08-10 17:59:04 +0800
categories: 
tags: 
img: 1.jpg
---


zotero数据使用的webdav同步到了我的nas
nas.hhmzzy.fun:8446/dav/zoterolife/zotero下，我们定期备份数据到icloud， 防止nas损坏


```
cat zotero_backup.sh

#!/bin/bash
set -e

# Zotero 数据目录（请确认权限和可访问性）
ZOTERO_DIR="/volume1/zoterolife/zotero"

# 备份存放目录，建议放其他安全路径，比如一个独立的备份共享目录
BACKUP_DIR="/volume1/backup/zotero_backups"

# 时间戳
TIMESTAMP=$(date +%F_%H%M%S)

# 备份文件名
BACKUP_FILE="$BACKUP_DIR/zotero_backup_$TIMESTAMP.tar.gz"

# 创建备份目录（如果不存在）
mkdir -p "$BACKUP_DIR"

echo "开始备份 Zotero 数据目录 $ZOTERO_DIR 到 $BACKUP_FILE ..."

tar czvf "$BACKUP_FILE" -C "$ZOTERO_DIR" .

echo "备份完成：$BACKUP_FILE"

# 清理7天前的备份
find "$BACKUP_DIR" -type f -name "zotero_backup_*.tar.gz" -mtime +7 -exec rm {} \;

echo "删除7天前的旧备份完成。"

```

```
cd /volume1/backup/zotero_backups & python -m http.server 8888

```
